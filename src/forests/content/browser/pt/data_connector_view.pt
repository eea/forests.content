<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  lang="en"
  metal:use-macro="context/@@main_template/macros/master"
  i18n:domain="plone">

  <body>
    <metal:main fill-slot="main">
      <h1 class="documentFirstHeading" tal:content="context/Title">Title</h1>

      <strong>Query:</strong>
      <pre tal:content="context/query">Query definition here</pre>

      <strong>Data:</strong>
      <div tal:define="data view/data; keys python: data and data[0].keys() or []">
        <table tal:condition="data" class="table listing">
          <thead>
            <tr>
              <td tal:repeat="k keys" tal:content="k">Label</td>
            </tr>
          </thead>
          <tbody>
            <tr tal:repeat="row data">
              <td tal:repeat="k keys" tal:content="python: row[k]">Value</td>
            </tr>
          </tbody>
        </table>
      </div>

    </metal:main>
  </body>
</html>
